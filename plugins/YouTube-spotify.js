import _0x41622f from'node-fetch';import _0x2af7a5 from'spotifydl-x';import _0x401b0b from'fs';const handler=async(_0x36f934,{conn:_0x1a20c7,text:_0x26724d})=>{if(!_0x26724d)throw'*[❗𝐈𝐍𝐅𝐎❗]\x20𝙸𝙽𝙶𝚁𝙴𝚂𝙴\x20𝙴𝙻\x20𝙽𝙾𝙼𝙱𝚁𝙴\x20𝙳𝙴\x20𝙰𝙻𝙶𝚄𝙽𝙰\x20𝙲𝙰𝙽𝙲𝙸𝙾𝙽\x20𝙰\x20𝙱𝚄𝚂𝙲𝙰𝚁*';try{const _0x3d8ed9=await _0x41622f('https://api.lolhuman.xyz/api/spotifysearch?apikey='+lolkeysapi+'&query='+_0x26724d),_0x28fedd=await _0x3d8ed9['json'](),_0x544cc8=_0x28fedd['result'][0x0]['link'],_0x2183da=await spotifydl(_0x544cc8),_0x30660d=_0x3b6e7c=>{return''+Math['floor'](Math['random']()*0x2710)+_0x3b6e7c;},_0x5bb52d=_0x30660d('.mp3'),_0x3c7dc6='./tmp/'+_0x5bb52d;_0x401b0b['writeFileSync'](_0x3c7dc6,_0x2183da['audio']);const _0x5d332b='📌*𝚃𝙸𝚃𝚄𝙻𝙾:*\x20'+_0x2183da['data']['name']+'\x0a🖇️*𝙰𝚁𝚃𝙸𝚂𝚃𝙰:*\x20'+_0x2183da['data']['artists']+'\x0a🌐\x20*𝚄𝚁𝙻*:\x20'+_0x544cc8;await _0x1a20c7['sendFile'](_0x36f934['chat'],_0x2183da['data']['cover_url'],'error.jpg',_0x5d332b,_0x36f934),await _0x1a20c7['sendMessage'](_0x36f934['chat'],{'audio':_0x401b0b['readFileSync']('./tmp/'+_0x5bb52d),'fileName':_0x2183da['data']['name']+'.mp3','mimetype':'audio/mp4'},{'quoted':_0x36f934});}catch{throw'*❌ʟᴏ\x20sᴇɴᴛɪᴍᴏs\x20sᴇ\x20ʜᴀ\x20ɢᴇɴᴇʀᴀᴅᴏ\x20ᴜɴ\x20ᴇʀʀᴏʀ\x20ᴠᴜᴇʟᴠᴇ\x20ɪɴᴛᴇɴᴛᴀʀ❌*';}};handler['command']=/^(Spotify)$/i;export default handler;const credentials={'clientId':'acc6302297e040aeb6e4ac1fbdfd62c3','clientSecret':'0e8439a1280a43aba9a5bc0a16f3f009'},spotify=new _0x2af7a5['default'](credentials);async function spotifydl(_0x232f20){const _0x55dd19=await spotify['getTrack'](_0x232f20)['catch'](()=>{return{'error':'Fallo\x20la\x20descarga'};});return{'data':_0x55dd19,'audio':await spotify['downloadTrack'](_0x232f20)};}