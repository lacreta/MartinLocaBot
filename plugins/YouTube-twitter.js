import _0x36bfe0 from'node-fetch';import _0x45120c from'axios';import _0x2f5325 from'cheerio';import _0x1dd2c3 from'node:vm';import _0x31f244 from'qs';const handler=async(_0x2d13fd,{conn:_0x2ace47,text:_0x24e571,usedPrefix:_0x3a6dd4,command:_0x419de1})=>{if(!_0x24e571)throw'*[❗𝐈𝐍𝐅𝐎❗]\x20𝙸𝙽𝙶𝚁𝙴𝚂𝙴\x20𝚄𝙽\x20𝙴𝙽𝙻𝙰𝙲𝙴\x20𝙳𝙴\x20𝚃𝚆𝙸𝚃𝚃𝙴𝚁,\x20𝙴𝙹𝙴𝙼𝙿𝙻𝙾:\x20'+(_0x3a6dd4+_0x419de1)+'*\x20https://twitter.com/auronplay/status/1586487664274206720?s=20&t=3snvkvwGUIez5iWYQAehpw';try{const _0x3422c2=await twitter(_0x24e571);await _0x2d13fd['reply'](global['wait']);const _0x48ba63='*𝙰𝚀𝚄𝙸\x20𝙴𝚂𝚃𝙰\x20𝚂𝚄\x20𝚅𝙸𝙳𝙴𝙾*';await _0x2ace47['sendFile'](_0x2d13fd['chat'],_0x3422c2[0x0]['url'],'error.mp4',_0x48ba63,_0x2d13fd);}catch{console['log']('error');try{const _0x4f5ff6=await twitterDl(_0x24e571);await _0x2d13fd['reply'](global['wait']);for(let _0xdc803a=0x0;_0xdc803a<_0x4f5ff6['media']['length'];_0xdc803a++){const _0x32d022=_0xdc803a===0x0?_0x4f5ff6['caption']['replace'](/https:\/\/t.co\/[a-zA-Z0-9]+/gi,'')['trim']():'*𝙰𝚀𝚄𝙸\x20𝙴𝚂𝚃𝙰\x20𝚂𝚄\x20𝚅𝙸𝙳𝙴𝙾*';await _0x2ace47['sendFile'](_0x2d13fd['chat'],_0x4f5ff6['media'][_0xdc803a]['url'],'error.mp4',_0x32d022,_0x2d13fd);}}catch{try{const _0x3d7197=await savefrom(_0x24e571);await _0x2ace47['sendFile'](_0x2d13fd['chat'],_0x3d7197['url'][0x0]['url'],'error.mp4','*𝙰𝚀𝚄𝙸\x20𝙴𝚂𝚃𝙰\x20𝚂𝚄\x20𝚅𝙸𝙳𝙴𝙾*',_0x2d13fd);}catch{throw'*❌ʟᴏ\x20sᴇɴᴛɪᴍᴏs\x20sᴇ\x20ʜᴀ\x20ɢᴇɴᴇʀᴀᴅᴏ\x20ᴜɴ\x20ᴇʀʀᴏʀ\x20ᴠᴜᴇʟᴠᴇ\x20ɪɴᴛᴇɴᴛᴀʀ❌*';}}}};handler['command']=/^((twdl|tw|twt|twitter)(dl)?)$/i;export default handler;async function twitterDl(_0x5e6c2d){const _0x59b081=/twitter\.com\/[^/]+\/status\/(\d+)/['exec'](_0x5e6c2d)?.[0x1],_0x3c9c88=await _0x36bfe0('https://tweetpik.com/api/tweets/'+_0x59b081);if(_0x3c9c88['status']!==0xc8)throw _0x3c9c88['statusText'];const _0x1bd4a8=await _0x3c9c88['json']();if(_0x1bd4a8['media']){const _0x5e65d1=[];for(const _0x3f6929 of _0x1bd4a8['media']){if(/video|animated_gif/['test'](_0x3f6929['type'])){let _0x2f8d93=await(await _0x36bfe0('https://tweetpik.com/api/tweets/'+_0x59b081+'/video'))['json']();_0x2f8d93=_0x2f8d93['variants']['pop'](),_0x5e65d1['push']({'url':_0x2f8d93['url'],'type':_0x3f6929['type']});}else _0x5e65d1['push']({'url':_0x3f6929['url'],'type':_0x3f6929['type']});}return{'caption':_0x1bd4a8['text'],'media':_0x5e65d1};}}async function savefrom(_0x4d80fd){const _0x15a717=new URLSearchParams({'sf_url':encodeURI(_0x4d80fd),'sf_submit':'','new':0x2,'lang':'id','app':'','country':'id','os':'Windows','browser':'Chrome','channel':'\x20main','sf-nomad':0x1});let {data:_0xe61af4}=await _0x45120c({'url':'https://worker.sf-tools.com/savefrom.php','method':'POST','data':_0x15a717,'headers':{'content-type':'application/x-www-form-urlencoded','origin':'https://id.savefrom.net','referer':'https://id.savefrom.net/','user-agent':'Mozilla/5.0\x20(Windows\x20NT\x2010.0;\x20Win64;\x20x64)\x20AppleWebKit/537.36\x20(KHTML,\x20like\x20Gecko)\x20Chrome/99.0.4844.74\x20Safari/537.36'}});const _0x321649='[][\x22filter\x22][\x22constructor\x22](b).call(a);';_0xe61af4=_0xe61af4['replace'](_0x321649,'\x0atry\x20{\x0ai++;\x0aif\x20(i\x20===\x202)\x20scriptResult\x20=\x20'+_0x321649['split']('.call')[0x0]+'.toString();\x0aelse\x20(\x0a'+_0x321649['replace'](/;/,'')+'\x0a);\x0a}\x20catch\x20{}');const _0x3fb662={'scriptResult':'','i':0x0};return _0x1dd2c3['createContext'](_0x3fb662),new _0x1dd2c3['Script'](_0xe61af4)['runInContext'](_0x3fb662),JSON['parse'](_0x3fb662['scriptResult']['split']('window.parent.sf.videoResult.show(')?.[0x1]['split'](');')?.[0x0]);}async function twitter(_0x2641f7){let _0x558ac9={'url':_0x2641f7,'submit':''},_0x59e462=await _0x36bfe0('https://www.expertsphp.com/instagram-reels-downloader.php',{'method':'POST','body':new URLSearchParams(Object['entries'](_0x558ac9)),'headers':{'content-type':'application/x-www-form-urlencoded','cookie':'_ga=GA1.2.783835709.1637038175;\x20__gads=ID=5b4991618655cd86-22e2c7aeadce00ae:T=1637038176:RT=1637038176:S=ALNI_MaCe3McPrVVswzBEqcQlgnVZXtZ1g;\x20_gid=GA1.2.1817576486.1639614645;\x20_gat_gtag_UA_120752274_1=1','origin':'https://www.expertsphp.com','referer':'https://www.expertsphp.com/twitter-video-downloader.html','user-agent':'Mozilla/5.0\x20(Windows\x20NT\x2010.0;\x20Win64;\x20x64)\x20AppleWebKit/537.36\x20(KHTML,\x20like\x20Gecko)\x20Chrome/96.0.4664.110\x20Safari/537.36'}}),_0x567a80=_0x2f5325['load'](await _0x59e462['text']()),_0x204744=[];return _0x567a80('table.table\x20>\x20tbody\x20>\x20tr')['each'](function(){let _0x6725d8=_0x567a80(this)['find']('td')['eq'](0x2)['find']('strong')['text'](),_0x3c73a3=_0x567a80(this)['find']('td')['eq'](0x1)['find']('strong')['text'](),_0x242ef6=_0x567a80(this)['find']('td')['eq'](0x0)['find']('a[href]')['attr']('href'),_0x455a07=/video/i['test'](_0x3c73a3);_0x204744['push']({'quality':_0x6725d8,'type':_0x3c73a3,'url':_0x242ef6,'isVideo':_0x455a07});}),_0x204744;}